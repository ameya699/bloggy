<%- include("header") -%>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,400,0,0" />
<a href="/createblog" style="text-decoration: none;color: black;display: flex;flex-wrap: wrap;"><span class="material-symbols-rounded" style="font-size: 50px;position: fixed;z-index: 1;right: 0;bottom: 0;background: linear-gradient(to right, #ee7724, #d8363a, #dd3675, #b44593);margin-bottom: 3rem;margin-right: 2rem;">
    add
    </span></a>
    <style>
        .material-symbols-rounded {
            border-radius: 33px;
        }
        .card-content{
            white-space: nowrap; 
            overflow: hidden; 
            text-overflow: ellipsis; 
            font-size: 16px;
        }

        @media screen and (max-width:475px){
            .card-group{
           
                justify-content: center;
            }
            
        }
    
    </style>
<div style="padding-bottom: 1rem;">
    
    <p>logged in <%=emailid%></p>
    <%if(!blogscollection[0]){%>
        <h1 class="display-6" style="font-size:  24px;text-align: center;">No blogs here</h1>
        <h1 class="display-5" style="text-align: center;">Be the first one to publish a blog!!!</h1> 
    <%}%>
    <div class="card-group"  style="display: flex;flex-wrap: wrap;padding: 2vh 10vh 0 10vh;column-gap: 3vh; row-gap: 2vh;" >
        <%blogscollection.forEach(blog => {%>
            
        <div>
            <div class="card" style="background:linear-gradient(to right, #ee7724, #d8ad36);border-radius: 20px;height:12rem;max-width: 90rem;width: 20rem;">
                <div style="display: flex;column-gap: 3vh;">
                <img class="card-img-top" src="https://cdn-icons-png.flaticon.com/256/1077/1077114.png" style="height: 48px;width: 40px;padding:1vh 0 1vh 1vh;" alt="user profile photo">
                
                    <% if (blog.email===emailid) { %>
                        <p style="align-self: flex-end;">Created by you</p>
                    <% } else{%>
                        <p style="align-self: flex-end;">Created by <a href="mailto:<%=blog.email%>"><%=blog.createdby %></a></p>
                    <%}%>
                    
            </div>
               <div class="card-body" >
                  <h5 class="card-title"><%= blog.heading%></h5>
<div class="card-content" style="width: auto;">   <%=blog.plaincontent%>    </div>
<p style="display: flex; column-gap: 1vh;text-align: center;">Read full blog<a style="text-decoration: none;" href="/readblog/<%=blog._id  %>"><span class="material-symbols-outlined" style="text-align: center;">
    arrow_forward
</span></a></p>
<% if (blog.modifiedtime) { %>
    <p class="card-text" style="text-align: end;"><small class="text-muted">last updated on <%= blog.publishtime.toString().split("GMT")[0]%></small></p>
<% } else{%>
    <p class="card-text" style="text-align: end;"><small class="text-muted">published on <%= blog.publishtime.toString().split("GMT")[0]%></small></p>
    <%}%>
                </div>
               
            </div>
        </div>
        <% }); %>


        
      </div>

</div>