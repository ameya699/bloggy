<%- include("header") -%>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
<a href="/createblog" style="text-decoration: none;color: black;display: flex;flex-wrap: wrap;"><span class="material-symbols-outlined" style="font-size: 50px;position: fixed;z-index: 1;right: 0;bottom: 0;padding:0 5vh 5vh 0;">
    add_circle
    </span></a>
    <style>
        .card-content{
            white-space: nowrap; 
            overflow: hidden; 
            text-overflow: ellipsis; 
            font-size: 16px;
        }

        @media screen and (max-width:475px){
            .card-group{
           
                justify-content: center;
            }
            
        }
    
    </style>
<div style="padding-bottom: 8rem;">
    
    <p>logged in <%=emailid%></p>
    <div class="card-group"  style="display: flex;flex-wrap: wrap;padding: 2vh 10vh 0 10vh;column-gap: 3vh; row-gap: 2vh;" >
        <%blogscollection.forEach(blog => {%>
            
        <div>
            <div class="card" style="background:linear-gradient(to right, #ee7724, #d8ad36);border-radius: 20px;height: 20rem;max-width: 90rem;width: 20rem;">
                <div style="display: flex;column-gap: 3vh;">
                <img class="card-img-top" src="https://cdn-icons-png.flaticon.com/256/1077/1077114.png" style="height: 48px;width: 40px;padding:1vh 0 1vh 1vh;" alt="user profile photo">
                
                    <% if (blog.email===emailid) { %>
                        <p style="align-self: flex-end;">Created by you</p>
                    <% } else{%>
                        <p style="align-self: flex-end;">Created by <a href="mailto:<%=blog.email%>"><%=blog.createdby %></a></p>
                    <%}%>
                    
            </div>
               <div class="card-body" >
                  <h5 class="card-title"><%= blog.heading%></h5>
<div class="card-content">   <%=blog.plaincontent%>    </div>
<p style="display: flex; column-gap: 1vh;text-align: center;">Read full blog<a style="text-decoration: none;" href="/readblog/<%=blog._id  %>"><span class="material-symbols-outlined" style="text-align: center;">
    arrow_forward
</span></a></p>
<% if (blog.modifiedtime) { %>
    <p class="card-text" style="text-align: end;"><small class="text-muted">last updated on <%= blog.publishtime.toString().split("GMT")[0]%></small></p>
<% } else{%>
    <p class="card-text" style="text-align: end;"><small class="text-muted">published on <%= blog.publishtime.toString().split("GMT")[0]%></small></p>
    <%}%>
                </div>
               
            </div>
        </div>
        <% }); %>


        
      </div>

</div>